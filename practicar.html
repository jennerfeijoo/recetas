<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Practicar recetas</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <a href="index.html" style="display:inline-block;margin:16px 12px;">← Volver al menú</a>

  <header style="margin:0 12px 12px;">
    <h1 style="margin:0;">Practicar recetas</h1>
    <p style="margin:8px 0 0; opacity:0.85;">
      Aprenderás cada receta en 2 pasos: ingredientes <strong>antes</strong> y <strong>después</strong> de hornear.
      Funciona con clic/tap (móvil/tablet/PC) y drag opcional en PC.
    </p>
  </header>

  <section style="margin:12px; max-width:1100px; display:grid; gap:10px;">
    <div style="display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
      <label>
        Modo:
        <select id="modeSelect">
          <option value="learn" selected>Aprender</option>
          <option value="exam">Examen</option>
        </select>
      </label>

      <label>
        Recetas:
        <select id="scopeSelect">
          <option value="all" selected>Todo (Pizzas + Calzones)</option>
          <option value="pizzas">Solo pizzas</option>
          <option value="calzones">Solo calzones</option>
        </select>
      </label>

      <button id="startBtn" type="button">Empezar</button>
      <button id="shuffleBtn" type="button">Barajar</button>
      <button id="resetBtn" type="button">Reiniciar</button>

      <div style="margin-left:auto; display:flex; gap:14px; align-items:center; opacity:0.9; flex-wrap:wrap;">
        <div><strong>Progreso:</strong> <span id="progressText">0/0</span></div>
        <div><strong>Racha:</strong> <span id="streakText">0</span></div>
        <div><strong>Puntos:</strong> <span id="scoreText">0</span></div>
      </div>
    </div>
  </section>

  <section style="margin:12px; max-width:1100px;">
    <div style="display:flex; gap:12px; align-items:baseline; flex-wrap:wrap;">
      <h2 id="recipeTitle" style="margin:0;">Pulsa “Empezar”</h2>
      <small id="recipeMeta" style="opacity:0.75;"></small>
    </div>
    <div id="phaseTitle" style="margin-top:8px; font-weight:700; opacity:0.95;"></div>
    <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
      <input id="searchInput" type="search" placeholder="Buscar ingrediente..." style="max-width:360px; width:100%; padding:10px;">
      <button id="clearSelectedBtn" type="button" disabled>Vaciar selección</button>
      <button id="nothingPostBakeBtn" type="button" disabled>Nada después de hornear</button>
    </div>
  </section>

  <section style="margin:12px; max-width:1100px; display:grid; grid-template-columns: 1fr 1fr; gap:14px;">
    <div class="panel">
      <h3 style="margin:0 0 10px;">Banco</h3>
      <div id="ingredientBank" class="chip-zone" aria-label="Banco de ingredientes"></div>
    </div>

    <div class="panel">
      <h3 style="margin:0 0 10px;">Tu selección</h3>
      <div id="selectedZone" class="chip-zone" aria-label="Ingredientes seleccionados"></div>
    </div>
  </section>

  <section style="margin:12px; max-width:1100px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
    <button id="checkBtn" type="button" disabled>Comprobar</button>
    <button id="nextBtn" type="button" disabled>Siguiente</button>
  </section>

  <section style="margin:12px; max-width:1100px;">
    <div class="panel" style="min-height:64px;">
      <div id="feedbackText" style="opacity:0.9;">Aquí verás el resultado al comprobar.</div>
      <div id="feedbackDetails" style="margin-top:10px; display:none;">
        <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px;">
          <div><strong>Correctos</strong><ul id="correctList"></ul></div>
          <div><strong>Faltantes</strong><ul id="missingList"></ul></div>
          <div><strong>Incorrectos</strong><ul id="wrongList"></ul></div>
        </div>
      </div>
    </div>
  </section>

  <footer style="margin:20px 12px; opacity:0.7;">
    <small>Tip: primero domina “Antes de hornear”. Luego “Después de hornear” con el botón “Nada…” cuando aplique.</small>
  </footer>

  <script src="data.js"></script>
  <script src="practice.js"></script>
</body>
</html>
